#!/bin/sh
#
# simple script to determine the correct distribution
# - there appears to be no clear way of doing this which is cross platform compatible
#
# Get release information (if possible)
if [ `rpm -q redhat-release >/dev/null 2>&1; echo $?` = 0 ]; then
    releasename=redhat
    release=`rpm -q redhat-release | sed -e 's;^redhat-release-;;' -e 's;-[0-9]*$;;'`
elif [ `rpm -q mandrake-release >/dev/null 2>&1; echo $?` = 0 ]; then
    releasename=mandrake
    release=`rpm -q mandrake-release | sed -e 's;^mandrake-release-;;' -e 's;-[0-9]*mdk$;;'`
else
    releasename=unknown
    release=0.0
fi
major=`echo $release | sed -e 's;\.[0-9]*$;;'`
minor=`echo $release | sed -e 's;^[0-9]*\.;;'`
 
echo ${releasename}-${major}.${minor}
